[gd_scene load_steps=22 format=3 uid="uid://bpmu3ocn57tvc"]

[ext_resource type="TileSet" uid="uid://ctmqnw8pktlk6" path="res://TileMap1.tres" id="1_3tfs0"]
[ext_resource type="Texture2D" uid="uid://b1pqlfjyggr7f" path="res://Images/pipo-charachip021e.png" id="1_71c1r"]
[ext_resource type="Script" path="res://PlayerCharacter.gd" id="1_mer0e"]
[ext_resource type="Texture2D" uid="uid://btvqtshsrkii3" path="res://Images/sticon3b-3.png" id="4_nxhlk"]
[ext_resource type="Script" path="res://HpEntityNode.gd" id="5_didg4"]
[ext_resource type="Script" path="res://HeartUiPresenter.gd" id="5_vgluc"]
[ext_resource type="Texture2D" uid="uid://cstiwewb0iqv2" path="res://Images/sticon3a-2.png" id="6_q01vt"]

[sub_resource type="AtlasTexture" id="AtlasTexture_4o6cp"]
atlas = ExtResource("1_71c1r")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sx0tx"]
atlas = ExtResource("1_71c1r")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_t4fy6"]
atlas = ExtResource("1_71c1r")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_masth"]
atlas = ExtResource("1_71c1r")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_gotqb"]
atlas = ExtResource("1_71c1r")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_e5as8"]
atlas = ExtResource("1_71c1r")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f1f3k"]
atlas = ExtResource("1_71c1r")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pxy5q"]
atlas = ExtResource("1_71c1r")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_k1p2m"]
atlas = ExtResource("1_71c1r")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_apxa2"]
atlas = ExtResource("1_71c1r")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kohgm"]
atlas = ExtResource("1_71c1r")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_w007c"]
atlas = ExtResource("1_71c1r")
region = Rect2(64, 64, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_22q25"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4o6cp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sx0tx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t4fy6")
}],
"loop": true,
"name": &"walk_back",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_masth")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gotqb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e5as8")
}],
"loop": true,
"name": &"walk_forward",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_f1f3k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pxy5q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k1p2m")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_apxa2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kohgm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w007c")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ri7xy"]
size = Vector2(70, 70)

[node name="root" type="Node"]

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(38, -2)
scale = Vector2(2, 2)
tile_set = ExtResource("1_3tfs0")
format = 2
layer_0/name = "Base"
layer_0/tile_data = PackedInt32Array(131074, 327680, 0, 196610, 327680, 1, 262146, 327680, 1, 327682, 327680, 1, 393218, 327680, 1, 458754, 327680, 1, 131075, 393216, 0, 196611, 393216, 1, 262147, 393216, 1, 327683, 393216, 1, 393219, 393216, 1, 458755, 393216, 1, 131076, 393216, 0, 196612, 393216, 1, 262148, 393216, 1, 327684, 393216, 1, 393220, 393216, 1, 458756, 393216, 1, 131077, 393216, 0, 196613, 393216, 1, 262149, 393216, 1, 327685, 393216, 1, 393221, 393216, 1, 458757, 393216, 1, 131078, 393216, 0, 196614, 393216, 1, 262150, 393216, 1, 327686, 393216, 1, 393222, 393216, 1, 458758, 393216, 1, 131079, 393216, 0, 196615, 393216, 1, 262151, 393216, 1, 327687, 393216, 1, 393223, 393216, 1, 458759, 393216, 1, 131080, 393216, 0, 196616, 393216, 1, 262152, 393216, 1, 327688, 393216, 1, 393224, 393216, 1, 458760, 393216, 1, 131081, 393216, 0, 196617, 393216, 1, 262153, 393216, 1, 327689, 393216, 1, 393225, 393216, 1, 458761, 393216, 1, 131082, 393216, 0, 196618, 393216, 1, 262154, 393216, 1, 327690, 393216, 1, 393226, 393216, 1, 458762, 393216, 1, 131083, 393216, 0, 196619, 393216, 1, 262155, 393216, 1, 327691, 393216, 1, 393227, 393216, 1, 458763, 393216, 1, 131084, 393216, 0, 196620, 393216, 1, 262156, 393216, 1, 327692, 393216, 1, 393228, 393216, 1, 458764, 393216, 1, 131085, 393216, 0, 196621, 393216, 1, 262157, 393216, 1, 327693, 393216, 1, 393229, 393216, 1, 458765, 393216, 1, 131086, 393216, 0, 196622, 393216, 1, 262158, 393216, 1, 327694, 393216, 1, 393230, 393216, 1, 458766, 393216, 1, 131087, 458752, 0, 196623, 458752, 1, 262159, 458752, 1, 327695, 458752, 1, 393231, 458752, 1, 458767, 458752, 1, 524290, 327680, 2, 524291, 393216, 2, 524292, 393216, 2, 524293, 393216, 2, 524294, 393216, 2, 524295, 393216, 2, 524296, 393216, 2, 524297, 393216, 2, 524298, 393216, 2, 524299, 393216, 2, 524300, 393216, 2, 524301, 393216, 2, 524302, 393216, 2, 524303, 458752, 2, 589826, 393216, 0, 589827, 393216, 0, 589828, 393216, 0, 589829, 393216, 0, 589830, 393216, 0, 589831, 393216, 0, 589832, 393216, 0, 589833, 393216, 0, 589834, 393216, 0, 589835, 393216, 0, 589836, 393216, 0, 589837, 393216, 0, 589838, 393216, 0, 589839, 393216, 0, 589840, 327680, 4, 524304, 327680, 1, 458768, 327680, 1, 393232, 327680, 1, 327696, 327680, 1, 262160, 327680, 1, 196624, 327680, 1, 131088, 327680, 1, 65552, 327680, 3, 65551, 393216, 2, 65550, 393216, 2, 65549, 393216, 2, 65548, 393216, 2, 65547, 393216, 2, 65546, 393216, 2, 65545, 393216, 2, 65544, 393216, 2, 65543, 393216, 2, 65542, 393216, 2, 65541, 393216, 2, 65540, 393216, 2, 65539, 393216, 2, 65538, 393216, 2, 65537, 393216, 4, 131073, 458752, 1, 196609, 458752, 1, 196608, 393217, 1, 262144, 393217, 1, 262145, 458752, 1, 327681, 458752, 1, 393217, 458752, 1, 458753, 458752, 1, 524289, 458752, 1, 589825, 393216, 4, 589824, 393217, 1, 524288, 393217, 1, 458752, 393217, 1, 393216, 393217, 1, 327680, 393217, 1, 131072, 393217, 1, 65536, 393217, 1, 0, 393217, 1, 1, 393217, 1, 2, 393217, 1, 3, 393217, 1, 4, 393217, 1, 5, 393217, 1, 6, 393217, 1, 7, 393217, 1, 8, 393217, 1, 9, 393217, 1, 10, 393217, 1, 11, 393217, 1, 12, 393217, 1, 13, 393217, 1, 14, 393217, 1, 15, 393217, 1, 16, 393217, 1, 17, 393217, 1, 65553, 393217, 1, 131089, 393217, 1, 196625, 393217, 1, 262161, 393217, 1, 327697, 393217, 1, 393233, 393217, 1, 458769, 393217, 1, 524305, 393217, 1, 589841, 393217, 1, 655377, 393217, 1, 655376, 393217, 1, 655375, 393217, 1, 655374, 393217, 1, 655373, 393217, 1, 655372, 393217, 1, 655371, 393217, 1, 655370, 393217, 1, 655369, 393217, 1, 655368, 393217, 1, 655367, 393217, 1, 655366, 393217, 1, 655365, 393217, 1, 655364, 393217, 1, 655363, 393217, 1, 655362, 393217, 1, 655361, 393217, 1, 655360, 393217, 1, 131090, 393217, 1, 196626, 393217, 1, 65554, 393217, 1, 262162, 393217, 1, 18, 393217, 1, 327698, 393217, 1, 393234, 393217, 1, 458770, 393217, 1, 524306, 393217, 1, 589842, 393217, 1, 655378, 393217, 1, 65535, 393217, 1, 131071, 393217, 1, 196607, 393217, 1, 262143, 393217, 1, 327679, 393217, 1, 393215, 393217, 1, 458751, 393217, 1, 524287, 393217, 1, 589823, 393217, 1, 655359, 393217, 1, 720895, 393217, 1)
layer_1/name = "Water"
layer_1/z_index = 250
layer_1/tile_data = PackedInt32Array(589826, 393217, 0, 589827, 393217, 0, 589828, 393217, 0, 589829, 393217, 0, 589830, 393217, 0, 589831, 393217, 0, 589832, 393217, 0, 589833, 393217, 0, 589834, 393217, 0, 589835, 393217, 0, 589836, 393217, 0, 589837, 393217, 0, 589838, 393217, 0, 589839, 393217, 0, 524304, 327681, 1, 458768, 327681, 1, 393232, 327681, 1, 327696, 327681, 1, 262160, 327681, 1, 196624, 327681, 1, 131088, 327681, 1, 65551, 393217, 2, 65550, 393217, 2, 65549, 393217, 2, 65548, 393217, 2, 65547, 393217, 2, 65546, 393217, 2, 65545, 393217, 2, 65544, 393217, 2, 65543, 393217, 2, 65542, 393217, 2, 65541, 393217, 2, 65540, 393217, 2, 65539, 393217, 2, 65538, 393217, 2, 131073, 458753, 1, 196609, 458753, 1, 262145, 458753, 1, 327681, 458753, 1, 393217, 458753, 1, 458753, 458753, 1, 524289, 458753, 1, 65537, 262145, 3, 589825, 262145, 4, 589840, 327681, 4, 65552, 327681, 3)

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
position = Vector2(169, 195)
script = ExtResource("1_mer0e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="CharacterBody2D"]
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_22q25")
animation = &"walk_right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
scale = Vector2(0.75, 0.93)
shape = SubResource("RectangleShape2D_ri7xy")

[node name="UI" type="Node2D" parent="."]

[node name="Heart1" type="Sprite2D" parent="UI"]
position = Vector2(40, 30)
scale = Vector2(2, 2)
texture = ExtResource("4_nxhlk")

[node name="Heart2" type="Sprite2D" parent="UI"]
position = Vector2(93, 30)
scale = Vector2(2, 2)
texture = ExtResource("4_nxhlk")

[node name="Heart3" type="Sprite2D" parent="UI"]
position = Vector2(145, 30)
scale = Vector2(2, 2)
texture = ExtResource("4_nxhlk")

[node name="Presenter" type="Node" parent="."]

[node name="HeartUIPresenter" type="Node" parent="Presenter" node_paths=PackedStringArray("_hp", "_hp_sprites")]
script = ExtResource("5_vgluc")
_hp = NodePath("../../Entitis/HP")
_hp_sprites = [NodePath("../../UI/Heart1"), NodePath("../../UI/Heart2"), NodePath("../../UI/Heart3")]
_normal_heart = ExtResource("4_nxhlk")
_lost_heart = ExtResource("6_q01vt")

[node name="Entitis" type="Node" parent="."]

[node name="HP" type="Node" parent="Entitis"]
script = ExtResource("5_didg4")
